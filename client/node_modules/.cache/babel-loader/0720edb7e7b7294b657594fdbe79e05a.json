{"ast":null,"code":"import _objectSpread from\"C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _regeneratorRuntime from\"C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import{useState,useEffect,useContext}from'react';import{Box,TextareaAutosize,Button,styled,Typography}from'@mui/material';import{DataContext}from'../../../context/DataProvider';import{API}from'../../../service/api';import SendIcon from'@mui/icons-material/Send';//components\nimport Comment from'./Comment';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommentHeading=styled(Typography)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\nfont-weight: bold;\\ntext-align: center;\\n    padding-bottom: 10vh;\\n    font-size: 2rem;\\n\"])));var Container=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    align-items: center;\\n\"])));var StyledTextArea=styled(TextareaAutosize)(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    width: 100%; \\n    height: auto !important;\\n    padding: 25px;\\n    border-radius: 50px;\\n    border: 1px solid #ffffff50;\\n    box-shadow: 0px 0px 10px #0000001c;\\n    background: #ffffff1c;\\n    filter: drop-shadow(2px 4px 6px #00000050);\\n    overflow: hidden;\\n}\\n\"])));var initialValue={name:'',postId:'',date:new Date(),comments:''};var Comments=function Comments(_ref){var post=_ref.post;var _useState=useState(initialValue),_useState2=_slicedToArray(_useState,2),comment=_useState2[0],setComment=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),comments=_useState4[0],setComments=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),toggle=_useState6[0],setToggle=_useState6[1];var _useContext=useContext(DataContext),account=_useContext.account;useEffect(function(){var getData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return API.getAllComments(post._id);case 2:response=_context.sent;if(response.isSuccess){setComments(response.data);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref2.apply(this,arguments);};}();getData();},[toggle,post]);var handleChange=function handleChange(e){setComment(_objectSpread(_objectSpread({},comment),{},{name:account.username,postId:post._id,comments:e.target.value}));};var owner=account.name;var addComment=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return API.newComment(comment);case 2:setComment(initialValue);setToggle(function(prev){return!prev;});case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function addComment(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(CommentHeading,{children:\"Write Your Feedback / Suggestion\"}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(StyledTextArea,{rowsMin:5,placeholder:'Hello! '+owner+\" What Is Your Though?\",onChange:function onChange(e){return handleChange(e);},value:comment.comments}),/*#__PURE__*/_jsx(Button,{className:\"button-86 comment-btn\",style:{height:40},onClick:function onClick(e){return addComment(e);},children:/*#__PURE__*/_jsx(SendIcon,{})})]}),/*#__PURE__*/_jsx(Box,{style:{display:'flex',flexDirection:'column-reverse'},children:comments&&comments.length>0&&comments.map(function(comment){return/*#__PURE__*/_jsx(Comment,{comment:comment,setToggle:setToggle});})})]});};export default Comments;","map":{"version":3,"names":["useState","useEffect","useContext","Box","TextareaAutosize","Button","styled","Typography","DataContext","API","SendIcon","Comment","jsx","_jsx","jsxs","_jsxs","CommentHeading","_templateObject","_taggedTemplateLiteral","Container","_templateObject2","StyledTextArea","_templateObject3","initialValue","name","postId","date","Date","comments","Comments","_ref","post","_useState","_useState2","_slicedToArray","comment","setComment","_useState3","_useState4","setComments","_useState5","_useState6","toggle","setToggle","_useContext","account","getData","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","getAllComments","_id","sent","isSuccess","data","stop","apply","arguments","handleChange","e","_objectSpread","username","target","value","owner","addComment","_ref3","_callee2","_callee2$","_context2","newComment","children","rowsMin","placeholder","onChange","className","style","height","onClick","display","flexDirection","length","map"],"sources":["C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/src/components/details/comments/Comments.jsx"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\r\nimport { Box, TextareaAutosize, Button, styled, Typography} from '@mui/material';\r\nimport { DataContext } from '../../../context/DataProvider';\r\nimport { API } from '../../../service/api';\r\nimport SendIcon from '@mui/icons-material/Send';\r\n\r\n//components\r\nimport Comment from './Comment';\r\n  \r\nconst CommentHeading = styled(Typography)`\r\nfont-weight: bold;\r\ntext-align: center;\r\n    padding-bottom: 10vh;\r\n    font-size: 2rem;\r\n`;\r\nconst Container = styled(Box)`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\nconst StyledTextArea = styled(TextareaAutosize)`\r\n    width: 100%; \r\n    height: auto !important;\r\n    padding: 25px;\r\n    border-radius: 50px;\r\n    border: 1px solid #ffffff50;\r\n    box-shadow: 0px 0px 10px #0000001c;\r\n    background: #ffffff1c;\r\n    filter: drop-shadow(2px 4px 6px #00000050);\r\n    overflow: hidden;\r\n}\r\n`;\r\n\r\nconst initialValue = {\r\n    name: '',\r\n    postId: '',\r\n    date: new Date(),\r\n    comments: ''\r\n}\r\n\r\nconst Comments = ({ post }) => {\r\n    const [comment, setComment] = useState(initialValue);\r\n    const [comments, setComments] = useState([]);\r\n    const [toggle, setToggle] = useState(false);\r\n    const { account } = useContext(DataContext);\r\n\r\n    useEffect(() => {\r\n        const getData = async () => {\r\n            const response = await API.getAllComments(post._id);\r\n            if (response.isSuccess) {\r\n                setComments(response.data);\r\n            }\r\n        }\r\n        getData();\r\n    }, [toggle, post]);\r\n\r\n    const handleChange = (e) => {\r\n        setComment({\r\n            ...comment,\r\n            name: account.username,\r\n            postId: post._id,\r\n            comments: e.target.value\r\n        });\r\n    }\r\n    const owner = account.name;\r\n    const addComment = async() => {\r\n        await API.newComment(comment);\r\n        setComment(initialValue)\r\n        setToggle(prev => !prev);\r\n    }\r\n    \r\n    return (\r\n        <Box>\r\n            <CommentHeading>Write Your Feedback / Suggestion</CommentHeading>\r\n            <Container>\r\n            {/* <Avatar sx={{ bgcolor: deepOrange[500] }}>{owner}</Avatar> */}\r\n                <StyledTextArea \r\n                    rowsMin={5} \r\n                    placeholder={'Hello! ' + owner + \" What Is Your Though?\"}\r\n                    onChange={(e) => handleChange(e)} \r\n                    value={comment.comments}\r\n                />\r\n                <Button className='button-86 comment-btn'\r\n                    style={{ height: 40 }}\r\n                    onClick={(e) => addComment(e)}\r\n                ><SendIcon  /></Button>             \r\n            </Container>\r\n            <Box style={{display:'flex',flexDirection:'column-reverse'}}>\r\n                {\r\n                    comments && comments.length > 0 && comments.map(comment => (\r\n                        <Comment comment={comment} setToggle={setToggle} />\r\n                    ))\r\n                }\r\n            </Box>\r\n        </Box>\r\n    )\r\n}\r\n\r\nexport default Comments;"],"mappings":"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"},"metadata":{},"sourceType":"module"}