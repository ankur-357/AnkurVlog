{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{Alert}from'@mui/material';import{Grid,Box}from'@mui/material';import{Link,useSearchParams}from'react-router-dom';// import { getAllPosts } from '../../../service/api';\nimport{API}from'../../../service/api';//components\nimport Post from'./Post';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Posts=function Posts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],getPosts=_useState2[1];var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,1),searchParams=_useSearchParams2[0];var category=searchParams.get('category');useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return API.getAllPosts({category:category||''});case 2:response=_context.sent;if(response.isSuccess){getPosts(response.data);}case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[category]);return/*#__PURE__*/_jsx(_Fragment,{children:(posts===null||posts===void 0?void 0:posts.length)?posts.map(function(post){return/*#__PURE__*/_jsx(Grid,{item:true,lg:3,sm:4,xs:12,children:/*#__PURE__*/_jsx(Link,{style:{textDecoration:'none',color:'inherit'},to:\"details/\".concat(post._id),children:/*#__PURE__*/_jsx(Post,{post:post})})});}):/*#__PURE__*/_jsxs(Box,{style:{color:'878787',margin:'30px 80px',fontSize:18},children:[\"No data is available for selected category\",/*#__PURE__*/_jsx(Alert,{variant:\"outlined\",severity:\"warning\",children:\"This is a warning alert \\u2014 check it out!\"})]})});};export default Posts;","map":{"version":3,"names":["useEffect","useState","Alert","Grid","Box","Link","useSearchParams","API","Post","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Posts","_useState","_useState2","_slicedToArray","posts","getPosts","_useSearchParams","_useSearchParams2","searchParams","category","get","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","getAllPosts","sent","isSuccess","data","stop","apply","arguments","children","length","map","post","item","lg","sm","xs","style","textDecoration","color","to","concat","_id","margin","fontSize","variant","severity"],"sources":["C:/Users/ANKUR KUMAR/Videos/AIVLOG-main/client/src/components/home/post/Posts.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport { Alert} from '@mui/material'\r\nimport { Grid, Box } from '@mui/material';\r\nimport { Link, useSearchParams } from 'react-router-dom';\r\n\r\n// import { getAllPosts } from '../../../service/api';\r\nimport { API } from '../../../service/api';\r\n\r\n//components\r\nimport Post from './Post';\r\n\r\nconst Posts = () => {\r\n    const [posts, getPosts] = useState([]);\r\n    \r\n    const [searchParams] = useSearchParams();\r\n    const category = searchParams.get('category');\r\n\r\n    useEffect(() => {\r\n        const fetchData = async () => { \r\n            let response = await API.getAllPosts({ category : category || '' });\r\n            if (response.isSuccess) {\r\n                getPosts(response.data);\r\n            }\r\n        }\r\n        fetchData();\r\n    }, [category]);\r\n\r\n    return (\r\n        <>\r\n            {\r\n                posts?.length ? posts.map(post => (\r\n                    <Grid item lg={3} sm={4} xs={12}>\r\n                        <Link style={{textDecoration: 'none', color: 'inherit'}} to={`details/${post._id}`}>\r\n                            <Post post={post} />\r\n                        </Link>\r\n                    </Grid>\r\n                )) : <Box style={{color: '878787', margin: '30px 80px', fontSize: 18}}>\r\n                        No data is available for selected category\r\n                        <Alert variant=\"outlined\" severity=\"warning\">\r\n  This is a warning alert â€” check it out!\r\n</Alert>\r\n                    </Box>\r\n            }\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Posts;"],"mappings":"4eAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,KAAK,KAAO,eAAe,CACpC,OAASC,IAAI,CAAEC,GAAG,KAAQ,eAAe,CACzC,OAASC,IAAI,CAAEC,eAAe,KAAQ,kBAAkB,CAExD;AACA,OAASC,GAAG,KAAQ,sBAAsB,CAE1C;AACA,MAAO,CAAAC,IAAI,KAAM,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1B,GAAM,CAAAC,KAAK,CAAG,QAAR,CAAAA,KAAKA,CAAA,CAAS,CAChB,IAAAC,SAAA,CAA0Bf,QAAQ,CAAC,EAAE,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IAEtB,IAAAI,gBAAA,CAAuBf,eAAe,CAAC,CAAC,CAAAgB,iBAAA,CAAAJ,cAAA,CAAAG,gBAAA,IAAjCE,YAAY,CAAAD,iBAAA,IACnB,GAAM,CAAAE,QAAQ,CAAGD,YAAY,CAACE,GAAG,CAAC,UAAU,CAAC,CAE7CzB,SAAS,CAAC,UAAM,CACZ,GAAM,CAAA0B,SAAS,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,CAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,CAAAI,IAAA,UAAAC,SAAAC,QAAA,kBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACO,CAAA9B,GAAG,CAAC+B,WAAW,CAAC,CAAEd,QAAQ,CAAGA,QAAQ,EAAI,EAAG,CAAC,CAAC,QAA/DQ,QAAQ,CAAAG,QAAA,CAAAI,IAAA,CACZ,GAAIP,QAAQ,CAACQ,SAAS,CAAE,CACpBpB,QAAQ,CAACY,QAAQ,CAACS,IAAI,CAAC,CAC3B,CAAC,wBAAAN,QAAA,CAAAO,IAAA,OAAAX,OAAA,GACJ,kBALK,CAAAL,SAASA,CAAA,SAAAC,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OAKd,CACDlB,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,CAACF,QAAQ,CAAC,CAAC,CAEd,mBACId,IAAA,CAAAI,SAAA,EAAA+B,QAAA,CAEQ,CAAA1B,KAAK,SAALA,KAAK,iBAALA,KAAK,CAAE2B,MAAM,EAAG3B,KAAK,CAAC4B,GAAG,CAAC,SAAAC,IAAI,qBAC1BtC,IAAA,CAACP,IAAI,EAAC8C,IAAI,MAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,CAAE,CAACC,EAAE,CAAE,EAAG,CAAAP,QAAA,cAC5BnC,IAAA,CAACL,IAAI,EAACgD,KAAK,CAAE,CAACC,cAAc,CAAE,MAAM,CAAEC,KAAK,CAAE,SAAS,CAAE,CAACC,EAAE,YAAAC,MAAA,CAAaT,IAAI,CAACU,GAAG,CAAG,CAAAb,QAAA,cAC/EnC,IAAA,CAACF,IAAI,EAACwC,IAAI,CAAEA,IAAK,CAAE,CAAC,CAClB,CAAC,CACL,CAAC,EACV,CAAC,cAAGpC,KAAA,CAACR,GAAG,EAACiD,KAAK,CAAE,CAACE,KAAK,CAAE,QAAQ,CAAEI,MAAM,CAAE,WAAW,CAAEC,QAAQ,CAAE,EAAE,CAAE,CAAAf,QAAA,EAAC,4CAE/D,cAAAnC,IAAA,CAACR,KAAK,EAAC2D,OAAO,CAAC,UAAU,CAACC,QAAQ,CAAC,SAAS,CAAAjB,QAAA,CAAC,8CAErE,CAAO,CAAC,EACiB,CAAC,CAEhB,CAAC,CAEX,CAAC,CAED,cAAe,CAAA9B,KAAK"},"metadata":{},"sourceType":"module"}